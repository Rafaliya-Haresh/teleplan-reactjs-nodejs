(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(65)},38:function(e,t,a){},39:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},65:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(27),l=a.n(s),o=(a(38),a(1)),i=a(2),c=a(4),m=a(3),u=a(5),d=(0,a(9).createBrowserHistory)(),h=a(67),p=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"main-content"},r.a.createElement("div",{className:"error-box"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-12"},r.a.createElement("div",{className:"error text-center"},r.a.createElement("img",{src:"images/error-404.png",className:"img-fluid",alt:"test"}),r.a.createElement("br",null),r.a.createElement("h2",{className:"mt-4 "},"Sorry the page not found"),r.a.createElement("a",{href:"/",className:"button mt-5 mr-2"},"Go to Home Page"))))))))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={username:""},a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentWillMount",value:function(){var e=localStorage.getItem("user");null!=e?(this.props.history.push("/dashboard"),this.setState({username:e})):this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-dark bg-dark "},r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo01","aria-controls":"navbarTogglerDemo01","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarTogglerDemo01"},r.a.createElement("ul",{className:"navbar-nav mr-auto mt-2 mt-lg-0"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("div",{className:"nav-link"},this.state.username?this.state.username:"Guest"))))))}}]),t}(n.Component),v=(a(39),function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"isActiveToggle",value:function(e){for(var t=document.getElementsByClassName("tab-pane"),a=0;a<t.length;a++)t[a].classList.remove("active");for(var n=document.getElementsByClassName("list-group-item-action"),r=0;r<n.length;r++)n[r].classList.remove("active");document.getElementById(e).classList.add("active"),document.querySelector(".list-group-item.list-group-item-action."+e).classList.add("active")}},{key:"signOff",value:function(){localStorage.removeItem("user"),this.props.history.push("/")}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,{history:this.props.history}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-4"},r.a.createElement("div",{className:"list-group",id:"list-tab",role:"tablist"},r.a.createElement("div",{className:"list-group-item list-group-item-action home active",onClick:function(){return e.isActiveToggle("home")}},"Home"),r.a.createElement("div",{className:"list-group-item list-group-item-action change-password",onClick:function(){return e.isActiveToggle("change-password")}},"Change Password"),r.a.createElement("div",{className:"list-group-item list-group-item-action",onClick:function(){return e.signOff()}},"Sign off"))),r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},r.a.createElement("div",{className:"tab-pane active",id:"home"},r.a.createElement("h4",null,"Welcome to MSP's Teleplan Web  Access"),r.a.createElement("p",null,"Welcome to the home page of the BC Medical Service Plan (MSP) ",r.a.createElement("br",null)," Electronic Claims Submission web application.")),r.a.createElement("div",{className:"tab-pane",id:"change-password"},"..."))))))}}]),t}(n.Component)),g=a(13),E=a.n(g),f=a(28),y=a(11),N=a(10),O=(a(41),a(29));function j(e){var t=[],a={},n=e.method;if(n||(n="GET"),e.endpoint||t.push("endpoint"),e.payload||"GET"===n||"DELETE"===n||t.push("payload"),t.length)throw new Error("Error! You must pass `".concat(t.join("`, `"),"`"));return a.url=e.endpoint,a.method=n,a.crossDomain=!0,a.headers=Object(O.a)({"Content-Type":"application/json"},e.headers),e.responseType&&(a.responseType=e.responseType),"GET"!==n&&(a.body=e.payload),fetch(a.url,{method:a.method,crossDomain:!0,headers:a.headers,body:JSON.stringify(a.body)}).then(function(e){return e.json()}).then(function(e){return e}).catch(function(e){return e})}var w=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("span",null,r.a.createElement("span",{className:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"}),"\xa0")}}]),t}(n.Component),S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(m.a)(t).call(this,e))).state={ExternalAction:"AsignOn",username:"",password:"",loaded:!1,res_error:"",errors:{}},a.handleLoginSubmit=a.handleLoginSubmit.bind(Object(N.a)(a)),a.handleFieldChange=a.handleFieldChange.bind(Object(N.a)(a)),a}return Object(u.a)(t,e),Object(i.a)(t,[{key:"handleFieldChange",value:function(e){var t=e.target,a=t.name,n=t.value;this.setState(Object(y.a)({},a,n))}},{key:"handleLoginSubmit",value:function(){var e=Object(f.a)(E.a.mark(function e(t){var a;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!this.validateForm()){e.next=9;break}return e.next=4,j({method:"POST",endpoint:"http://localhost:5000/login",payload:{ExternalAction:this.state.ExternalAction,username:this.state.username,password:this.state.password}});case 4:a=e.sent,console.log(a),"SUCCESS"!==a.data.Result?(this.setState({loaded:!1}),this.setState({res_error:a.data.Msgs,username:"",password:""})):(localStorage.setItem("user",a.data.username),this.props.history.push("/dashboard")),e.next=10;break;case 9:this.setState({loaded:!1});case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"validateForm",value:function(){var e={},t=!0;return this.state.username||(t=!1,e.username="*Please enter your username."),this.state.password||(t=!1,e.password="*Please enter your password."),this.setState({errors:e,loaded:!0}),t}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(b,{history:this.props.history}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},this.state.res_error&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.res_error),r.a.createElement("form",{onSubmit:this.handleLoginSubmit},r.a.createElement("input",{type:"hidden",className:"form-control",name:"ExternalAction",value:this.state.ExternalAction,onChange:this.handleFieldChange,required:!0}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"userInput"},"Username"),r.a.createElement("input",{type:"text",className:"form-control",placeholder:"Enter Username",name:"username",value:this.state.username,onChange:this.handleFieldChange}),r.a.createElement("div",{className:"errorMsg"},this.state.errors.username)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordInput"},"Password"),r.a.createElement("input",{type:"password",className:"form-control",placeholder:"Password",name:"password",value:this.state.password,onChange:this.handleFieldChange}),r.a.createElement("div",{className:"errorMsg"},this.state.errors.password)),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.state.loaded},this.state.loaded&&r.a.createElement(w,null),"Submit"))))))))}}]),t}(n.Component),C=(a(42),a(30)),k=a.n(C),F=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(m.a)(t).call(this))).state={ExternalAction:"AputRemit",submitFile:"",res_error:"",loaded:!1,errors:{}},e.onFileChangeHandler=e.onFileChangeHandler.bind(Object(N.a)(e)),e.handleRemitSubmit=e.handleRemitSubmit.bind(Object(N.a)(e)),e}return Object(u.a)(t,e),Object(i.a)(t,[{key:"onFileChangeHandler",value:function(e){this.setState({submitFile:e.target.files[0]})}},{key:"handleRemitSubmit",value:function(e){var t=this;if(e.preventDefault(),this.validateForm()){var a=new FormData;a.append("file",this.state.submitFile),a.append("ExternalAction","AputRemit"),k.a.post("http://localhost:5000/file-upload",a).then(function(e){e.statusText&&(t.setState({loaded:!1}),console.log(e.data))})}else this.setState({loaded:!1})}},{key:"validateForm",value:function(){var e={},t=!0;return this.state.submitFile||(t=!1,e.submitFile="*Please select your file."),this.setState({errors:e,loaded:!0}),t}},{key:"render",value:function(){return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-lg-6 offset-lg-3"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},this.state.res_error&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.state.res_error),r.a.createElement("form",{onSubmit:this.handleRemitSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"passwordInput"},"Password"),r.a.createElement("input",{type:"file",className:"form-control",onChange:this.onFileChangeHandler}),r.a.createElement("div",{className:"errorMsg"},this.state.errors.submitFile)),r.a.createElement("button",{type:"submit",className:"btn btn-primary",disabled:this.state.loaded},this.state.loaded&&r.a.createElement(w,null),"Click here to upload"))))))}}]),t}(n.Component),x=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(h.b,{history:d},r.a.createElement(h.c,null,r.a.createElement(h.a,{exact:!0,path:"/",component:S}),r.a.createElement(h.a,{exact:!0,path:"/dashboard",component:v}),r.a.createElement(h.a,{path:"/put-remit",component:F}),r.a.createElement(h.a,{path:"*",component:p})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(x,null),document.getElementById("react-app")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.04acc7c7.chunk.js.map